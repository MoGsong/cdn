(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ba736a6"],{baa5:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.dateRules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"选择时间"}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{prop:"date1"}},[a("el-date-picker",{ref:"date1",staticStyle:{width:"100%"},attrs:{name:"date1",editable:!1,type:"date",placeholder:"开始","value-format":"yyyyMMdd"},model:{value:e.form.date1,callback:function(t){e.$set(e.form,"date1",t)},expression:"form.date1"}})],1)],1),a("el-col",{staticClass:"line",attrs:{span:2}},[e._v("-")]),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{prop:"date2"}},[a("el-date-picker",{ref:"date2",staticStyle:{width:"100%"},attrs:{name:"date2",editable:!1,type:"date",placeholder:"结束(可选)","value-format":"yyyyMMdd"},model:{value:e.form.date2,callback:function(t){e.$set(e.form,"date2",t)},expression:"form.date2"}})],1)],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.onSubmit(t)}}},[e._v("查询")]),a("el-button",{on:{click:e.onCancel}},[e._v("取消")])],1)],1),a("ve-histogram",{attrs:{data:e.chartData,extend:e.vchartsConfig.extend}})],1)},n=[],o=(a("d3b7"),a("159b"),a("7067")),i=a.n(o),l=a("b775");function s(e,t){return Object(l["a"])({url:"/api/tpnametraffics?b="+e+"&e="+t,method:"get"})}var c={components:{VeHistogram:i.a},data:function(){var e=this,t=function(e,t,a){t?a():a(new Error("请选择开始时间"))},a=function(t,a,r){e.form.date1&&a&&e.form.date1>a?r(new Error("结束时间不能⼩于开始时间，请重新选择")):r()};return{dateRules:{date1:[{required:!0,trigger:"blur",validator:t}],date2:[{validator:a}]},form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},chartData:{columns:["pname","流量值(单位：兆)"],rows:[]},vchartsConfig:{extend:{legend:{},grid:{show:!0,backgroundColor:"#FFF6F3"},series:function(e){return e.forEach((function(e){e.barMinHeight=2,e.itemStyle={},e.label={}})),e},xAxis:{axisLabel:{margin:5,interval:0,rotate:25}},yAxis:{axisLabel:{}}}}}},mounted:function(){console.log("xxx")},methods:{onSubmit:function(){var e=this;this.$refs.form.validate((function(t){if(!t)return console.log("error submit!!"),!1;e.$message("已提交!");var a=e.form.date1,r=e.form.date2;s(a,r).then((function(t){e.chartData.rows=[];var a=t.data;console.log(a);for(var r=0;r<a.length;r++)e.chartData.rows.push({pname:a[r].pname,"流量值(单位：兆)":a[r].traffics})})).catch((function(e){console.log(e)}))}))},onCancel:function(){this.$message({message:"已取消!",type:"warning"})}}},d=c,f=(a("fcbc"),a("2877")),u=Object(f["a"])(d,r,n,!1,null,"05499c8e",null);t["default"]=u.exports},f653:function(e,t,a){},fcbc:function(e,t,a){"use strict";a("f653")}}]);