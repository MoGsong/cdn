(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d31ba32"],{"1ba6":function(t,e,a){},"629c":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"form",attrs:{model:t.form,rules:t.dateRules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"选择时间"}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{prop:"date1"}},[a("el-date-picker",{ref:"date1",staticStyle:{width:"100%"},attrs:{name:"date1",editable:!1,type:"date",placeholder:"开始","value-format":"yyyyMMdd"},model:{value:t.form.date1,callback:function(e){t.$set(t.form,"date1",e)},expression:"form.date1"}})],1)],1),a("el-col",{staticClass:"line",attrs:{span:2}},[t._v("-")]),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{prop:"date2"}},[a("el-date-picker",{ref:"date2",staticStyle:{width:"100%"},attrs:{name:"date2",editable:!1,type:"date",placeholder:"结束(可选)","value-format":"yyyyMMdd"},model:{value:t.form.date2,callback:function(e){t.$set(t.form,"date2",e)},expression:"form.date2"}})],1)],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){return e.preventDefault(),t.onSubmit(e)}}},[t._v("查询")]),a("el-button",{on:{click:t.onCancel}},[t._v("取消")])],1)],1),a("ve-histogram",{attrs:{data:t.chartData,extend:t.vchartsConfig.extend}})],1)},n=[],o=(a("d3b7"),a("159b"),a("7067")),i=a.n(o),s=a("b775");function l(t,e){return Object(s["a"])({url:"/api/tspnametraffics?b="+t+"&e="+e,method:"get"})}var c={components:{VeHistogram:i.a},data:function(){var t=this,e=function(t,e,a){e?a():a(new Error("请选择开始时间"))},a=function(e,a,r){t.form.date1&&a&&t.form.date1>a?r(new Error("结束时间不能⼩于开始时间，请重新选择")):r()};return{dateRules:{date1:[{required:!0,trigger:"blur",validator:e}],date2:[{validator:a}]},form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},chartData:{columns:["spname","流量值"],rows:[]},vchartsConfig:{extend:{grid:{show:!0,backgroundColor:"#FFF6F3"},series:function(t){return t.forEach((function(t){t.barWidth=20,t.barGap=1,t.barMinHeight=2,t.itemStyle={color:"#FF6633"},t.label={}})),t},xAxis:{axisLabel:{margin:5,interval:0,rotate:0}},yAxis:{axisLabel:{formatter:function(t){return t+" M"}}}}}}},mounted:function(){console.log("xxx")},methods:{onSubmit:function(){var t=this;this.$refs.form.validate((function(e){if(!e)return console.log("error submit!!"),!1;t.$message("已提交");var a=t.form.date1,r=t.form.date2;l(a,r).then((function(e){t.chartData.rows=[];for(var a=e.data,r=0;r<a.length;r++)t.chartData.rows.push({spname:a[r].spname,"流量值":a[r].traffics})})).catch((function(t){console.log(t)}))}))},onCancel:function(){this.$message({message:"已取消",type:"warning"})}}},d=c,f=(a("bb13"),a("2877")),u=Object(f["a"])(d,r,n,!1,null,"58a6dc34",null);e["default"]=u.exports},bb13:function(t,e,a){"use strict";a("1ba6")}}]);